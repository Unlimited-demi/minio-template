# SCENARIO C: Advanced / Mixed / IP Restricted
# Use this for internal tools, LMS, or hybrid setups.

MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=ChangeThisPassword123!

MINIO_SERVER_URL=https://minio.yourdomain.com
MINIO_BROWSER_REDIRECT_URL=https://console.yourdomain.com

# ADD THESE for Traefik Routing:
MINIO_HOST=minio.yourdomain.com
CONSOLE_HOST=console.yourdomain.com
FILES_HOST=files.yourdomain.com

# SSL / Traefik Config (Required if using 'ssl' profile)
ACME_EMAIL=admin@yourdomain.com

# -------------------------------------------------------
# IP RESTRICTION SYNTAX:
# Use 'ip=' followed by IP addresses.
# Separate MULTIPLE IPs with a SEMICOLON (;).
# -------------------------------------------------------

# Example Breakdown:
# 1. public-images: Open to everyone.
# 2. hr-files: Private (Keys only).
# 3. internal-lms: Only accessible from Office IP (1.2.3.4) AND VPN IP (5.6.7.8).

MINIO_BUCKETS=public-images:public,hr-files:private,internal-lms:ip=1.2.3.4;5.6.7.8

# Init Strategy (go | sh) - 'go' is recommended
MINIO_INIT_METHOD=go

# -------------------------------------------------------
# AUTO-GENERATE CLIENT CODE
# If true, runs a script on startup to generate a StorageService file
# and uploads it to your first bucket.
# Check logs for the URL: 'docker-compose logs minio'
# -------------------------------------------------------
# GENERATE_CLIENT=true
# CLIENT_LANG=node  # node | python | go

# -------------------------------------------------------
# OPTIONAL FEATURES (Profiles)
# Enable features by uncommenting the line below.
# Options: ssl, explorer, backup
# Example: COMPOSE_PROFILES=ssl,explorer
# -------------------------------------------------------
# COMPOSE_PROFILES=ssl,explorer

# -------------------------------------------------------
# BACKUP CONFIG (Required if using 'backup' profile)
# Configure a remote named 'remote' using Env Vars.
# Example: Backing up to AWS S3
# -------------------------------------------------------
# RCLONE_CONFIG_REMOTE_TYPE=s3
# RCLONE_CONFIG_REMOTE_PROVIDER=AWS
# RCLONE_CONFIG_REMOTE_ACCESS_KEY_ID=your_aws_key
# RCLONE_CONFIG_REMOTE_SECRET_ACCESS_KEY=your_aws_secret
# RCLONE_CONFIG_REMOTE_REGION=us-east-1
# RCLONE_CONFIG_REMOTE_ACL=private
